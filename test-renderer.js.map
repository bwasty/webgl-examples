{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"gloperate\"","webpack:///./test-renderer/testrenderer.frag","webpack:///./test-renderer/testrenderer.vert","webpack:///./test-renderer/testrenderer.ts","webpack:///./test-renderer/example.ts"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","webgl_operate_1","TestRenderer","Renderer","[object Object]","this","_extensions","_testNavigation","update","redraw","altered","reset","_altered","any","gl","_context","gl2facade","multiFrameNumber","_ndcOffsetKernel","width","_multiFrameNumber","_intermediateFBO","initialized","frameSize","resize","_frameSize","_colorRenderTexture","initialize","isWebGL2","RGBA8","RGBA","UNSIGNED_BYTE","_depthRenderbuffer","DEPTH_COMPONENT16","COLOR_ATTACHMENT0","DEPTH_ATTACHMENT","clearColor","_clearColor","_accumulate","frameNumber","viewport","_program","bind","ndcOffset","uniform2fv","_uNdcOffset","uniform1i","_uFrameNumber","clear","COLOR_BUFFER_BIT","_ndcTriangle","draw","unbind","frame","_blit","framebuffer","context","callback","mouseEventProvider","isWebGL1","auxiliaries","assert","supportsStandardDerivatives","standardDerivatives","vert","Shader","VERTEX_SHADER","frag","FRAGMENT_SHADER","Program","uniform","NdcFillingTriangle","aVertex","attribute","AntiAliasingKernel","_defaultFBO","DefaultFramebuffer","Texture2","Renderbuffer","Framebuffer","AccumulatePass","precision","_framePrecision","texture","BlitPass","readBuffer","drawBuffer","BACK","target","debug","TestNavigation","invalidate","uninitialize","gloperate","testrenderer_1","onload","canvas","Canvas","renderer","element","addEventListener","viewer","Fullscreen","toggle","document","readyState"],"mappings":"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","file":"test-renderer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"gloperate\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"gloperate\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"gloperate\")) : factory(root[\"gloperate\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 56);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = \"\\nprecision lowp float;\\n\\n\\n#if __VERSION__ == 100\\n    #define texture(sampler, coord) texture2D(sampler, coord)\\n#else \\n    #define varying in\\n#endif\\n\\n\\n\\n#if __VERSION__ == 100\\n    #define fragColor gl_FragColor\\n    #extension GL_OES_standard_derivatives : enable\\n#else \\n    layout(location = 0) out vec4 fragColor;\\n#endif\\n\\nuniform int u_frameNumber;\\n\\nvarying vec2 v_uv;\\n\\n\\nvoid main(void)\\n{\\n    vec3 color = vec3(28.0 / 255.0, 117.0 / 255.0, 188.0 / 255.0);\\n    color += (vec3(0.0, v_uv) - 0.5) * 0.125;\\n\\n    vec2 awidth = fwidth(v_uv) * (sin(float(u_frameNumber) * 0.1) * 7.0 + 8.0);\\n    vec2 cstep = abs(step(awidth, v_uv) - step(awidth, 1.0 - v_uv));\\n    if(!any(bvec2(cstep))) {\\n        discard;\\n    }\\n    fragColor = vec4(color, 1.0); \\n}\\n\"","module.exports = \"\\nprecision lowp float;\\n\\n\\n#if __VERSION__ == 100\\n#else \\n    #define varying out\\n#endif\\n\\n\\n\\n#if __VERSION__ == 100\\n    attribute vec2 a_vertex;\\n#else \\n    layout(location = 0) in vec2 a_vertex;\\n#endif\\n\\nuniform vec2 u_ndcOffset;\\n\\nvarying vec2 v_uv;\\n\\n\\nvoid main(void)\\n{\\n    v_uv = a_vertex.xy * 0.5 + 0.5;\\n\\n    vec4 vertex = vec4(a_vertex, 0.0, 1.0);\\n    vertex.xy = u_ndcOffset * vec2(vertex.w) + vertex.xy;\\n\\n    gl_Position = vertex;\\n}\\n\"","\nimport {\n    AccumulatePass, AntiAliasingKernel, auxiliaries, BlitPass, Context, debug, DefaultFramebuffer,\n    Framebuffer, Invalidate, MouseEventProvider, NdcFillingTriangle, Program, Renderbuffer, Renderer, Shader,\n    Texture2,\n} from 'webgl-operate';\n\n\nexport class TestRenderer extends Renderer {\n\n    protected _extensions = false;\n    protected _program: Program;\n\n    protected _ndcOffsetKernel: AntiAliasingKernel;\n    protected _uNdcOffset: WebGLUniformLocation;\n    protected _uFrameNumber: WebGLUniformLocation;\n    protected _ndcTriangle: NdcFillingTriangle;\n\n    protected _accumulate: AccumulatePass;\n    protected _blit: BlitPass;\n\n    protected _defaultFBO: DefaultFramebuffer;\n    protected _colorRenderTexture: Texture2;\n    protected _depthRenderbuffer: Renderbuffer;\n    protected _intermediateFBO: Framebuffer;\n\n    protected _testNavigation: debug.TestNavigation;\n\n\n    protected onUpdate(): boolean {\n        this._testNavigation.update();\n\n        const redraw = this._testNavigation.altered;\n        this._testNavigation.reset();\n\n        return this._altered.any || redraw;\n    }\n\n    protected onPrepare(): void {\n        const gl = this._context.gl;\n        const gl2facade = this._context.gl2facade;\n\n        if (this._altered.multiFrameNumber) {\n            this._ndcOffsetKernel.width = this._multiFrameNumber;\n        }\n\n        if (!this._intermediateFBO.initialized) {\n            this._colorRenderTexture.initialize(this._frameSize[0], this._frameSize[1],\n                this._context.isWebGL2 ? gl.RGBA8 : gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE);\n            this._depthRenderbuffer.initialize(this._frameSize[0], this._frameSize[1], gl.DEPTH_COMPONENT16);\n            this._intermediateFBO.initialize([[gl2facade.COLOR_ATTACHMENT0, this._colorRenderTexture]\n                , [gl.DEPTH_ATTACHMENT, this._depthRenderbuffer]]);\n\n        } else if (this._altered.frameSize) {\n            this._intermediateFBO.resize(this._frameSize[0], this._frameSize[1]);\n        }\n\n        if (this._altered.clearColor) {\n            this._intermediateFBO.clearColor(this._clearColor);\n        }\n\n        this._accumulate.update();\n\n        this._altered.reset();\n    }\n\n    protected onFrame(frameNumber: number): void {\n        const gl = this._context.gl;\n\n        gl.viewport(0, 0, this._frameSize[0], this._frameSize[1]);\n\n        this._program.bind();\n\n        const ndcOffset = this._ndcOffsetKernel.get(frameNumber);\n        ndcOffset[0] = 2.0 * ndcOffset[0] / this._frameSize[0];\n        ndcOffset[1] = 2.0 * ndcOffset[1] / this._frameSize[1];\n        gl.uniform2fv(this._uNdcOffset, ndcOffset);\n        gl.uniform1i(this._uFrameNumber, frameNumber);\n\n        this._intermediateFBO.clear(gl.COLOR_BUFFER_BIT, true, false);\n        this._ndcTriangle.bind();\n        this._ndcTriangle.draw();\n        this._intermediateFBO.unbind();\n\n        this._accumulate.frame(frameNumber);\n    }\n\n    protected onSwap(): void {\n        this._blit.framebuffer = this._accumulate.framebuffer ?\n            this._accumulate.framebuffer : this._blit.framebuffer = this._intermediateFBO;\n        this._blit.frame();\n    }\n\n\n    protected onInitialize(context: Context, callback: Invalidate, mouseEventProvider: MouseEventProvider): boolean {\n        const gl = this._context.gl;\n        const gl2facade = this._context.gl2facade;\n\n        /* Enable required extensions. */\n\n        if (this._extensions === false && this._context.isWebGL1) {\n            auxiliaries.assert(this._context.supportsStandardDerivatives,\n                `expected OES_standard_derivatives support`);\n            /* tslint:disable-next-line:no-unused-expression */\n            this._context.standardDerivatives;\n            this._extensions = true;\n        }\n\n        /* Create and configure program and geometry. */\n\n        const vert = new Shader(this._context, gl.VERTEX_SHADER, 'testrenderer.vert');\n        vert.initialize(require('./testrenderer.vert'));\n        const frag = new Shader(this._context, gl.FRAGMENT_SHADER, 'testrenderer.frag');\n        frag.initialize(require('./testrenderer.frag'));\n\n        this._program = new Program(this._context);\n        this._program.initialize([vert, frag]);\n\n        this._uNdcOffset = this._program.uniform('u_ndcOffset');\n        this._uFrameNumber = this._program.uniform('u_frameNumber');\n\n        this._ndcTriangle = new NdcFillingTriangle(this._context);\n        const aVertex = this._program.attribute('a_vertex', 0);\n        this._ndcTriangle.initialize(aVertex);\n\n        this._ndcOffsetKernel = new AntiAliasingKernel(this._multiFrameNumber);\n\n        /* Create framebuffers, textures, and render buffers. */\n\n        this._defaultFBO = new DefaultFramebuffer(this._context, 'DefaultFBO');\n        this._defaultFBO.initialize();\n\n        this._colorRenderTexture = new Texture2(this._context, 'ColorRenderTexture');\n        this._depthRenderbuffer = new Renderbuffer(this._context, 'DepthRenderbuffer');\n\n        this._intermediateFBO = new Framebuffer(this._context, 'IntermediateFBO');\n\n        /* Create and configure accumulation pass. */\n\n        this._accumulate = new AccumulatePass(this._context);\n        this._accumulate.initialize(this._ndcTriangle);\n        this._accumulate.precision = this._framePrecision;\n        this._accumulate.texture = this._colorRenderTexture;\n        // this._accumulate.depthStencilAttachment = this._depthRenderbuffer;\n\n        /* Create and configure blit pass. */\n\n        this._blit = new BlitPass(this._context);\n        this._blit.initialize(this._ndcTriangle);\n        this._blit.readBuffer = gl2facade.COLOR_ATTACHMENT0;\n        this._blit.drawBuffer = gl.BACK;\n        this._blit.target = this._defaultFBO;\n\n        /* Create and configure test navigation. */\n\n        this._testNavigation = new debug.TestNavigation(() => this.invalidate(), mouseEventProvider);\n\n        return true;\n    }\n\n    protected onUninitialize(): void {\n        this._uNdcOffset = -1;\n        this._uFrameNumber = -1;\n        this._program.uninitialize();\n\n        this._ndcTriangle.uninitialize();\n\n        this._intermediateFBO.uninitialize();\n        this._defaultFBO.uninitialize();\n        this._colorRenderTexture.uninitialize();\n        this._depthRenderbuffer.uninitialize();\n\n        this._blit.uninitialize();\n    }\n\n}\n\n","\n\nimport * as gloperate from 'webgl-operate';\n\nimport { TestRenderer } from './testrenderer';\n\n\nfunction onload() {\n    const canvas = new gloperate.Canvas('example-canvas');\n    const context = canvas.context;\n    const renderer = new TestRenderer();\n    canvas.renderer = renderer;\n\n    canvas.element.addEventListener('click', function () { gloperate.viewer.Fullscreen.toggle(canvas.element); });\n    canvas.element.addEventListener('touchstart', function () { gloperate.viewer.Fullscreen.toggle(canvas.element); });\n\n    // export variables\n    (window as any)['canvas'] = canvas;\n    (window as any)['context'] = context;\n    (window as any)['renderer'] = renderer;\n}\n\nif (window.document.readyState === 'complete') {\n    onload();\n} else {\n    window.onload = onload;\n}\n"],"sourceRoot":""}